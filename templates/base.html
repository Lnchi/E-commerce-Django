<!DOCTYPE html>
<html lang="en">
    {% load static %}
    <head>
        <meta charset="utf-8">
        <title>LYNDAShop - Shop </title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="Free HTML Templates" name="keywords">
        <meta content="Free HTML Templates" name="description">

        <!-- Favicon -->
        <link href="{% static 'img/favicon.ico' %}" rel="icon">

        <!-- Google Web Fonts -->
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet"> 

        <!-- Font Awesome -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
        
        <!-- Bibliothèque CSS qui contient les styles pour les icônes de drapeau -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/4.1.5/css/flag-icons.min.css">

        <!-- Resources for modal login / signup forms-->
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"  rel="stylesheet">

        <!-- Libraries Stylesheet -->
        <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">

        <!-- Customized Bootstrap Stylesheet -->
        <link href="{% static 'css/style.css' %}" rel="stylesheet">
        <link href="{% static 'css/owl.carousel.min.css' %}" rel="stylesheet">
        <link href="{% static 'css/owl.theme.default.min.css' %}" rel="stylesheet">
    </head>

    <body>
        <!-- Topbar Start -->
        <div class="container-fluid">
            <div class="row bg-secondary py-2 px-xl-5">
                <div class="col-lg-6 d-none d-lg-block">
                    <div class="d-inline-flex align-items-center">
                        <a class="text-dark" href="">FAQs</a>
                        <span class="text-muted px-2">|</span>
                        <a class="text-dark" href="">Help</a>
                        <span class="text-muted px-2">|</span>
                        <a class="text-dark" href="">Support</a>
                    </div>
                </div>
                <div class="col-lg-6 text-center text-lg-right">
                    <div class="d-inline-flex align-items-center">
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a class="text-dark px-2" href="">
                            <i class="fab fa-instagram"></i>
                        </a> 
                    </div>
                </div>
            </div>
            <div class="row align-items-center py-3 px-xl-5">
                <div class="col-lg-3 d-none d-lg-block">
                    <a href="" class="text-decoration-none">
                        <h1 class="m-0 display-5 font-weight-semi-bold"><span class="text-primary font-weight-bold border px-3 mr-1">LYNDA</span>Shop</h1>
                    </a>
                </div>
                <div class="col-lg-6 col-6 text-left">
                    <form action="">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Search for products">
                            <div class="input-group-append">
                                <span class="input-group-text bg-transparent text-primary">
                                    <i class="fa fa-search"></i>
                                </span>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col-lg-3 col-6 text-right">
                    <a href="" class="btn border">
                        <i class="fas fa-heart text-primary"></i>
                        <span class="badge">0</span>
                    </a>
                    {% comment %} {% if user.cart %} {% endcomment %}
                    <a href="{% url 'cart' %}" class="btn border">
                        <i class="fas fa-shopping-cart text-primary"></i>
                        <span class="badge"> {{user.cart.orders.count}} </span>
                    </a>
                    {% comment %} {% endif %} {% endcomment %}
                </div>
            </div>
        </div>
        <!-- Topbar End -->


        <!-- Navbar Start -->
        <div class="container-fluid mb-">
            <div class="row border-top px-xl-5">
                <div class="col-lg-3 d-none d-lg-block">
                    <a class="btn shadow-none d-flex align-items-center justify-content-between bg-primary text-white w-100" data-toggle="collapse" href="#navbar-vertical" style="height: 65px; margin-top: -1px; padding: 0 30px;">
                        <h6 class="m-0">Categories</h6>
                        <i class="fa fa-angle-down text-dark"></i>
                    </a>
                    {% comment %} <nav class="collapse show navbar navbar-vertical navbar-light align-items-start p-0 border border-top-0 border-bottom-0" id="navbar-vertical"> {% endcomment %}
                    <nav class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 border border-top-0 border-bottom-0 bg-light" id="navbar-vertical" style="width: calc(100% - 30px); z-index: 1000;">
                        <div class="navbar-nav w-100 overflow-hidden" style="height: 410px">
                            <div class="nav-item dropdown">
                                <a href="#" class="nav-link" data-toggle="dropdown">Dresses <i class="fa fa-angle-down float-right mt-1"></i></a>
                                <div class="dropdown-menu position-absolute bg-secondary border-0 rounded-0 w-100 m-0">
                                    <a href="" class="dropdown-item">Men's Dresses</a>
                                    <a href="" class="dropdown-item">Women's Dresses</a>
                                    <a href="" class="dropdown-item">Baby's Dresses</a>
                                </div>
                            </div>
                            <a href="" class="nav-item nav-link">Shirts</a>
                            <a href="" class="nav-item nav-link">Jeans</a>
                            <a href="" class="nav-item nav-link">Swimwear</a>
                            <a href="" class="nav-item nav-link">Sleepwear</a>
                            <a href="" class="nav-item nav-link">Sportswear</a>
                            <a href="" class="nav-item nav-link">Jumpsuits</a>
                            <a href="" class="nav-item nav-link">Blazers</a>
                            <a href="" class="nav-item nav-link">Jackets</a>
                            <a href="" class="nav-item nav-link">Shoes</a>
                        </div>
                    </nav>
                    {% if messages %}
                    <ul class="messages alert alert-success mt-3" id="success-message">
                        {% for message in messages %}
                            <li {% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>
                <div class="col-lg-9">
                    <nav class="navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0">
                        <a href="" class="text-decoration-none d-block d-lg-none">
                            <h1 class="m-0 display-5 font-weight-semi-bold"><span class="text-primary font-weight-bold border px-3 mr-1">LYNDA</span>Shop</h1>
                        </a>
                        <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                            <div class="navbar-nav mr-auto py-0">
                                
                                <a href="{% url 'index' %}" class="nav-item nav-link active">Home</a>
                                <a href="shop.html" class="nav-item nav-link">Shop</a>
                                <a href="detail.html" class="nav-item nav-link">Shop Detail</a>
                                <div class="nav-item dropdown">
                                    <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Pages</a>
                                    <div class="dropdown-menu rounded-0 m-0">
                                        <a href="{% url 'cart' %}" class="dropdown-item">My Cart</a>
                                        <a href="{% url 'checkout' %}" class="dropdown-item">Checkout</a>
                                        <a href="{% url 'my_orders' %}" class="dropdown-item">My Orders</a>
                                        
                                    </div>
                                </div>
                                <a href="{% url 'contact' %}" class="nav-item nav-link">Contact</a>
                                {% comment %} L'url qui va pointer vers logout, cette url pointe vers la vue logout_user, et cette vue va déconneter l'utilisateur. {% endcomment %}
                                {% if  user.is_authenticated %}
                                <a href="{% url 'logout' %}" class="nav-item nav-link">Logout</a>
                                {% else %}
                                <!-- lien de déclenchement pour la modale de connexion -->
                                <a href="" class="nav-item nav-link" data-toggle="modal" data-target="#loginModal">Login</a>
                                <a href="" class="nav-item nav-link" data-toggle="modal" data-target="#signupModal">Register</a>
                                {% endif %}
                                {% if user.is_superuser %}
                                    <div class="nav-item dropdown">
                                        <a href="#" class="nav-link active dropdown-toggle" data-toggle="dropdown">Add</a>
                                        <div class="dropdown-menu rounded-0 m-0">
                                            <a href="{% url 'add_category' %}" class="dropdown-item">Categories</a>
                                            <a href="{% url 'add_product' %}" class="dropdown-item">Products</a>
                                        </div>
                                    </div>
                                {% endif %}
                            </div>
                            <div class="navbar-nav ml-auto py-0">
                                {% comment %} récupèrer automatiquement request.user pour l'inclure dans le modèle HTML {% endcomment %}
                                {% if  user.is_authenticated %}
                                <div class="d-flex align-items-center" style="padding: 10px;">
                                    <h1 class="fa fa-smile text-primary m-0 mr-3"></h1>
                                    <h6 class="font-weight-semi-bold m-0">Welcome {{user.username}} !</h6>
                                </div>
                                {% endif%}
                            </div> 
                        </div>
                    </nav>
{% comment %}                     <div id="header-carousel" class="carousel slide" data-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active" style="height: 410px;">
                                <img class="img-fluid" src="{% static 'img/carousel-5.jpg' %}" alt="Image">
                                <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                                    <div class="p-3" style="max-width: 700px;">
                                        <h4 class="text-light text-uppercase font-weight-medium mb-3">Sale up to -70%</h4>
                                        <h3 class="display-4 text-white font-weight-semi-bold mb-4">On a selection of items</h3>
                                        <a href="" class="btn btn-light py-2 px-3">Shop Now</a>
                                    </div>
                                </div>
                            </div>
                            <div class="carousel-item" style="height: 410px;">
                                <img class="img-fluid" src="{% static 'img/carousel-6.jpg' %}" alt="Image">
                                <div class="carousel-caption d-flex flex-column align-items-center justify-content-center">
                                    <div class="p-3" style="max-width: 700px;">
                                        <h4 class="text-light text-uppercase font-weight-medium mb-3">Show all</h4>
                                        <h3 class="display-4 text-white font-weight-semi-bold mb-4">Reasonable Price</h3>
                                        <a href="" class="btn btn-light py-2 px-3">Shop Now</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <a class="carousel-control-prev" href="#header-carousel" data-slide="prev">
                            <div class="btn btn-dark" style="width: 45px; height: 45px;">
                                <span class="carousel-control-prev-icon mb-n2"></span>
                            </div>
                        </a>
                        <a class="carousel-control-next" href="#header-carousel" data-slide="next">
                            <div class="btn btn-dark" style="width: 45px; height: 45px;">
                                <span class="carousel-control-next-icon mb-n2"></span>
                            </div>
                        </a>
                    </div> {% endcomment %}
                </div>
            </div>
        </div>
        <!-- Navbar End -->

        <!-- Fenêtre d'inscription -->
        <div class="modal fade" id="signupModal" tabindex="-1" role="dialog" aria-labelledby="signupModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="bg-secondary px-2 modal-content p-4">
                    <button type="button" class="close x" data-dismiss="modal" aria-label="Close" id="signup-close-btn">
                        <span aria-hidden="true">&times;</span>
                    </button>

                    <a href="" class="text-decoration-none">
                        <h1 class="display-5 font-weight-semi-bold"><span class="text-primary font-weight-bold border border-white px-3 mr-1">LYNDA</span>Shop</h1>
                    </a>

                    <div class="modal-body">
                        <div class="col-md-10 px-xl-0">
                            <p class="mb-md-0 text-center text-md-left text-dark">
                                Do you have an account?<a href="" id="login-link-signup-modal" data-toggle="modal" data-target="#loginModal" data-dismiss="modal"> Log in </a>
                            </p>
                        </div>

                        <h5 class="mb-4 title">New<br />Account</h5>
                        <form id="signup-form" method="POST" action="{% url 'signup' %}">
                            {% csrf_token %}
                            <div class="form-group">
                                {{ signup_form.username }}
                            </div>
                            <div class="form-group">
                                {{ signup_form.email }}
                            </div>
                            <div class="form-group">
                                {{ signup_form.password1 }}
                            </div>
                            <div class="form-group">
                                {{ signup_form.password2 }}
                            </div>
                            <div>
                                <button class="btn btn-primary btn-block border-0 py-3" type="submit">SIGNUP</button>
                            </div>
                            <!-- Affichage des erreurs du formulaire -->
                            <div id="signup-errors"> 
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>



        <!-- Fenêtre de Connexion  -->
        <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModalLabel"aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="bg-secondary px-2 modal-content p-4">
                    <button type="button" class="close x" data-dismiss="modal" aria-label="Close" id="login-close-btn">
                        <span aria-hidden="true">&times;</span>
                    </button>

                    <a href="" class="text-decoration-none">
                        <h1 class="display-5 font-weight-semi-bold"><span class="text-primary font-weight-bold border border-white px-3 mr-1">LYNDA</span>Shop</h1>
                    </a>

                    <div class="modal-body">
                    <div class="col-md-10 px-xl-0">
                        <p class="mb-md-0 text-center text-md-left text-dark">
                            You don't have an account?<a href="" id="signup-link-login-modal" data-toggle="modal" data-target="#signupModal" data-dismiss="modal"> Sign up </a> <!-- data-dismiss="modal" pour fermer la fenêtre modale de connexion avant d'ouvrir la fenêtre modale d'inscription. -->
                        </p>
                    </div>
                        
                        <h5 class="mb-4 title">Already<br />registered</h5>
                        <form id="login-form" method="POST" action="{% url 'login' %}">
                            {% csrf_token %}
                            <div class="form-group">
                                {% comment %} <input type="text" class="form-control border-0 py-4" id="login_username" name="username" placeholder="Full Name" required="required" /> {% endcomment %}
                                {% comment %} En Django, l'appel à {{ form.username }}, génère automatiquement une balises <input> correspondante. {% endcomment %}
                                {{ login_form.username }}
                            </div>
                            <div class="form-group">
                                {% comment %} <input type="password" class="form-control border-0 py-4" id="password" name="password" placeholder="Password" required="required" /> {% endcomment %}
                                {{ login_form.password }}
                            </div>                
                            <div>
                                <button class="btn btn-primary btn-block border-0 py-3" type="submit">LOGIN</button>
                            </div>
                            <!-- Ajoutez une div pour afficher les erreurs dans le modal -->
                            <div id="login-errors"></div>
                        </form>
                    </div>
            </div>
        </div>
        </div>

        {% comment %} Balise de type un block de contenu qui sera modifié dans les fichiers qui étend le fichier de base {% endcomment %}
        {% block content  %} 
        {% endblock content  %}

            <!-- Footer Start -->
            <div class="container-fluid bg-secondary text-dark mt-5 pt-5" id="footer">
                <div class="row px-xl-5 pt-2">
                    <div class="col-lg-4 col-md-12 mb-5 pr-3 pr-xl-5">
                        <a href="" class="text-decoration-none">
                            <h1 class="mb-4 display-5 font-weight-semi-bold"><span class="text-primary font-weight-bold border border-white px-3 mr-1">LYNDA</span>Shop</h1>
                        </a>
                        <p> Follow me, I'll dress you up...</p>
                        <p class="mb-2"><i class="fa fa-map-marker-alt text-primary mr-3"></i>An online store, Boumerdès, Algeria</p>
                        <p class="mb-2"><i class="fa fa-envelope text-primary mr-3"></i>info@gmail.com</p>
                        <p class="mb-0"><i class="fa fa-phone-alt text-primary mr-3"></i>+213 555 159 234</p>
                    </div>
                    <div class="col-lg-8 col-md-12">
                        <div class="row">
                            <div class="col-md-3 mb-5">         
                                <h5 class="font-weight-bold text-dark mb-4">Quick Links</h5>
                                <div class="d-flex flex-column justify-content-start">
                                    <a class="text-dark mb-2" href="index.html"><i class="fa fa-angle-right mr-2"></i>Home</a>
                                    <a class="text-dark mb-2" href="shop.html"><i class="fa fa-angle-right mr-2"></i>Our Shop</a>
                                    <a class="text-dark mb-2" href="detail.html"><i class="fa fa-angle-right mr-2"></i>Shop Detail</a>
                                    <a class="text-dark mb-2" href="cart.html"><i class="fa fa-angle-right mr-2"></i>Shopping Cart</a>
                                    <a class="text-dark mb-2" href="checkout.html"><i class="fa fa-angle-right mr-2"></i>Checkout</a>
                                    <a class="text-dark" href="contact.html"><i class="fa fa-angle-right mr-2"></i>Contact Us</a>
                                </div>
                            </div>
                            <div class="col-md-8 mb-5">
                                <h5 class="font-weight-bold text-dark mb-4">This might interest you</h5>
                                <div class="row">
                                    <div class="col-md-4 d-flex flex-column justify-content-start">
                                        {% for category in categories|slice:":6" %}
                                        <a class="text-dark mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>{{category.name}}</a>
                                        {% endfor %}
                                    </div>
                                    <div class="col-md-4 d-flex flex-column justify-content-start">
                                        {% for category in categories|slice:"6:" %}
                                        <a class="text-dark mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>{{category.name}}</a>
                                        {% endfor %}
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-1 mb-5 d-flex justify-content-center">
                                <a class="text-dark px-2" href="">
                                    <i class="fab fa-facebook-f fa-3x"></i>
                                </a>
                                <a class="text-dark px-2" href="">
                                    <i class="fab fa-instagram fa-3x"></i>
                                </a>

                                {% comment %} <h5 class="font-weight-bold text-dark mb-4">Newsletter</h5>
                                <form action="">
                                    <div class="form-group">
                                        <input type="text" class="form-control border-0 py-4" placeholder="Your Name" required="required" />
                                    </div>
                                    <div class="form-group">
                                        <input type="email" class="form-control border-0 py-4" placeholder="Your Email"
                                            required="required" />
                                    </div>
                                    <div>
                                        <button class="btn btn-primary btn-block border-0 py-3" type="submit">Subscribe Now</button>
                                    </div>
                                </form> {% endcomment %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row border-top border-light mx-xl-5 py-4">
                    <div class="col-md-6 px-xl-0">
                        <p class="mb-md-0 text-center text-md-left text-dark">
                            &copy; <a class="text-dark font-weight-semi-bold" href="#">LYNDA Shop</a>. All Rights Reserved. Designed
                            by
                            <a class="text-dark font-weight-semi-bold" href="https://htmlcodex.com">LYNDA</a><i class="fa fa-heart" aria-hidden="true"></i>
                            
                        </p>
                    </div>
                    <div class="col-md-6 px-xl-0 text-center text-md-right">
                        <img class="img-fluid" src="{% static 'img/payments.png' %}" alt="">
                    </div>
                </div>
            </div>
            <!-- Footer End -->
        
        
            <!-- Back to Top -->
            <a href="#" class="btn btn-primary back-to-top"><i class="fa fa-angle-double-up"></i></a>
        
        
            <!-- jQuery & Bootstrap JavaScript Libraries -->
            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>


            <!-- Vos scripts personnalisés -->
            <script src="{% static 'lib/easing/easing.min.js' %}"></script>
            <script src="{% static 'lib/owlcarousel/owl.carousel.min.js' %}"></script>

            <!-- Resources for modal login / signup forms -->
            <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script> -->

            <!-- Contact Javascript File -->
            <script src="{% static 'mail/jqBootstrapValidation.min.js' %}"></script>
            <script src="{% static 'mail/contact.js' %}"></script>

            <!-- Template Javascript -->
            <script src="{% static 'js/main.js' %}"></script>
            <script src="{% static 'js/owl.carousel.min.js' %}"></script>

            <!-- ce script utilise AJAX pour envoyer le formulaire de connexion au serveur de manière asynchrone, puis traite la réponse pour rediriger l'utilisateur en cas de succès ou afficher les erreurs dans le modal en cas d'échec.-->
            <script>
                // assurer que le script est exécuté une fois que le document HTML est complètement chargé.
                document.addEventListener('DOMContentLoaded', function() {
                    // Récupère l'élément du formulaire avec l'ID 'login-form'.
                    const loginForm = document.getElementById('login-form');
                    const signupForm = document.getElementById('signup-form');
                    const signupLinkLoginModal = document.getElementById('signup-link-login-modal');
                    const loginLinkSignupModal = document.getElementById('login-link-signup-modal');
                    const loginModal = document.getElementById('loginModal');
                    const signupModal = document.getElementById('signupModal');
                    const signupCloseBtn = document.getElementById('signup-close-btn');
                    const loginCloseBtn = document.getElementById('login-close-btn');
                    const successMessage = document.getElementById('success-message');
                    const addProductForm = document.getElementById('add_product_form');
                    

                    
                    
                    // arrow function pour nettoyer le fond modal
                    const cleanUpModalBackdrop = () => {
                        // liste d'éléments correspondant à la classe spécifiée.
                        const modalBackdrops = document.getElementsByClassName('modal-backdrop');
                        // parcourt tous les éléments de la page ayant la classe 'modal-backdrop'
                        for (let backdrop of modalBackdrops) {
                            // supprime l'élément actuel de la liste, il est retiré de la structure de la page HTML
                            backdrop.remove();
                        }
                    };

                    // Fonction pour bloquer le défilement sur la page principale
                    function disableBodyScroll() {
                        document.body.style.overflow = 'hidden';
                    }

                    // Fonction pour débloquer le défilement sur la page principale
                    function enableBodyScroll() {
                        document.body.style.overflow = '';
                    }

                    // Ajoute des écouteurs d'événements pour afficher les modaux
                    signupLinkLoginModal.addEventListener('click', function(event) {
                        event.preventDefault();
                        loginModal.style.display = 'none';
                        cleanUpModalBackdrop(); // Nettoie le fond modal
                        signupModal.style.display = 'block';
                        signupModal.style.overflow = 'scroll';
                        disableBodyScroll(); // Bloque le défilement sur la page principale  
                    });

                    // vérifier si l'élément cliqué est document.body. Si c'est le cas cela signifie que l'utilisateur a cliqué sur la page principale en dehors du modal
                    document.addEventListener('click', function(event){
                        if (event.target===document.body){
                        enableBodyScroll(); // Débloque le défilement sur la page principale 
                    }}); 

                    signupCloseBtn.addEventListener('click', function(event) {
                        enableBodyScroll(); // Débloque le défilement sur la page principale  
                    });

                    loginCloseBtn.addEventListener('click', function(event) {
                        enableBodyScroll(); // Débloque le défilement sur la page principale  
                    });
                    
                    loginLinkSignupModal.addEventListener('click', function(event) {
                        event.preventDefault();
                        signupModal.style.display = 'none';
                        cleanUpModalBackdrop(); // Nettoie le fond modal
                        loginModal.style.display = 'block';
                        loginModal.style.overflow = 'scroll';
                        disableBodyScroll(); // Bloque le défilement sur la page principale
                    });
                
                    // Ajouter un écouteur d'événements sur la soumission du formulaire comme un clic,.
                    loginForm.addEventListener('submit', function(event) {
                        // Empêcher le comportement par défaut du formulaire (rechargement de la page).
                        event.preventDefault();
                        
                        // Envoyer le formulaire via AJAX
                        // Effectur une requête POST asynchrone vers l'URL 'login' avec les données du formulaire.
                        // utiliser la fonction url 'login' pour générer l'URL à partir du nom d'URL spécifié dans votre fichier urls.py.
                        fetch('{% url "login" %}', {
                            method: 'POST',
                            // capturer toutes les données du formulaire (loginForm) dans un objet FormData pour faciliter l'envoi de ces données via une requête fetch.
                            body: new FormData(loginForm),
                        })
                        // Traiter la réponse JSON de la requête.
                        .then(response => response.json())
                        // Gèrer les données de la réponse JSON.
                        .then(data => {
                            if (data.success) {
                                // Si la connexion réussit, redirigez ou effectuez d'autres actions nécessaires
                                window.location.href = data.redirect;
                            } else {
                                
                                // Affiche les erreurs dans la balise div avec l'ID 'login-errors' si la connexion échoue.
                                const errorsDiv = document.getElementById('login-errors');
                                // Ajouter la classe 'alert alert-danger mt-3' à l'élément errorsDiv 
                                errorsDiv.classList.add('alert', 'alert-danger', 'mt-3');
                        

                                errorsDiv.innerHTML = '<p>' + data.errors.field_errors + '</p>';
                            }
                        })
                        .catch(error => console.error('Error:', error));
                    });

                    signupForm.addEventListener('submit', function(event) {
                        // Empêcher le comportement par défaut du formulaire (rechargement de la page).
                        event.preventDefault();
                        
                        // Envoyer le formulaire via AJAX
                        // Effectur une requête POST asynchrone vers l'URL 'signup' avec les données du formulaire.
                        fetch('{% url "signup" %}', {
                            method: 'POST',
                            // capturer toutes les données du formulaire (loginForm) dans un objet FormData pour faciliter l'envoi de ces données via une requête fetch.
                            body: new FormData(signupForm),
                        })
                        // Traiter la réponse JSON de la requête.
                        .then(response => response.json())
                        // Gèrer les données de la réponse JSON.
                        .then(data => {
                            if (data.success) {
                                // Si la connexion réussit, redirigez ou effectuez d'autres actions nécessaires
                                window.location.href = data.redirect;
                            } else {
                                
                                    // Affiche les erreurs dans la balise div avec l'ID 'login-errors' si la connexion échoue.
                                    const signupErrorsDiv = document.getElementById('signup-errors');
                                    // Ajouter la classe 'alert alert-danger mt-3' à l'élément signupErrorsDiv
                                    signupErrorsDiv.classList.add('alert', 'alert-danger', 'mt-3');
                                    signupErrorsDiv.innerHTML = '' ;
                                    for (const field in data.errors) {
                                        // field prend la valeur de chaque propriété (nom de champ) dans data.errors
                                        for (const error of data.errors[field]) {
                                            // error prend la valeur de chaque élément dans le tableau associé à la propriété actuelle (champ d'erreur)
                                            signupErrorsDiv.innerHTML += '<p>' + error + '</p>';
                                        }
                                    }                        
                                } 
                        })
                        .catch(error => console.error('Error:', error));
                    });

                    // Hide the alert success message after 5 seconds in contact page
                     setTimeout(function() {
                        successMessage.style.display='none';
                    }, 5000);

                    //  En cliquant sur les boutons "plus" et "moins", la valeur du champ de quantité sera ajustée en conséquence
                    function incrementQuantity() {
                        var quantityInput = document.getElementById('quantityInput');
                        var currentValue = parseInt(quantityInput.value);
                        quantityInput.value = currentValue + 1;
                    }

                    function decrementQuantity() {
                        var quantityInput = document.getElementById('quantityInput');
                        var currentValue = parseInt(quantityInput.value);
                        if (currentValue > 1) {
                            quantityInput.value = currentValue - 1;
                        }
                    }

                    function submitForm() {
                        document.getElementById('order_form').submit();
                    }


                });

                $('.owl-carousel').owlCarousel({
                    loop:false,
                    margin:10,
                    nav:true,
                    responsive:{
                        0:{
                            items:1 //Small screen view
                        },
                        600:{
                            items:3 //Tablette view
                        },
                        1000:{
                            items:4 // For laptop view : Four products per row 
                        }
                    }
                })


                

            </script>
             
            
        </body>
 </html>
